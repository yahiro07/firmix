# コンフィギュレーションの仕組み

## 概要

Firmixでは、ファームウェアのバイナリに値を注入するコンフィギュレーションの機能を備えています。
この仕組みをパッチング(バイナリパッチング)と呼んでいます。

ファームウェアのソースコード上では、ピンの定義や設定値を格納する領域を空の値で書いておきます。
マーカーと呼んでいる固定のバイト列を置いておき、マーカーのあとに一定のサイズで設定値のための領域を確保しておきます。

ファームウェアをビルドしたあとも、マーカーやこれらと領域はバイナリファイル上で直列に並んで保持されています。
Webアプリなどで、バイナリファイルからマーカーを探して、その後に続く領域に設定値を書き込む、という方法でコンフィギュレーションを実現しています。

## 実際の例

サンプルプロジェクトのコードを見ながら、パッチングに関連する箇所を解説します。



